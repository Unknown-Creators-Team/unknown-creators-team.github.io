<!-- FILEPATH: /d:/Documents/unknown-creators-team.github.io/ja/projects/Unknown-WebSocket/dashboard/manage.html -->
<!-- BEGIN: interface-html -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unknown</title>
    <link rel="icon" href="/images/unknown-icon.webp">
    <link rel="stylesheet" href="/styles/def.css">
    <link rel="stylesheet" href="/styles/projects/Unknown-WebSocket/dashboard/manage.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>


</head>

<body>
    <header></header>

    <main>
        <div class="spinner" id="viewer-spin"></div>
        <div class="container" id="viewer">
            <form method="dialog">
                <div id="big-box">


                    <div id="info-box" class="box">

                        <style>
                            .inline-block {
                                display: inline-block;
                            }
                        </style>

                        <h2>情報</h2>
                        <div class="inline-block">
                            <label for="カセットID">カセットID</label>
                            <input type="text" id="casetteId" name="casetteId" readonly>
                        </div>

                        <div class="inline-block">
                            <label for="formatVersion">フォーマットバージョン</label>
                            <input type="number" id="formatVersion" name="formatVersion" disabled readonly>
                        </div>

                        <br>

                        <div class="inline-block">
                            <label for="subscription">サブスクリプション</label>
                            <input type="text" id="subscription" name="subscription" readonly>
                        </div>

                        <div class="inline-block">
                            <label for="expires_at">期限切れまで</label>
                            <input type="text" id="expires_at" name="expires_at" readonly>
                        </div>

                        <p id="reissueToken">トークンを再発行</p>
                        <div id="reissueToken-loading" style="display: none;">
                            <div class="spinner-16"></div>
                            <p></p>
                        </div>
                        <p id="howToUse">使い方</p>
                    </div>

                    <div id="server-box" class="box">
                        <h2>サーバー設定</h2>
                        <div class="field">
                            <label for="owner">オーナー</label>
                            <input type="text" id="owner" name="owner" readonly>
                        </div>

                        <div class="field array-field">
                            <label for="administrators">管理者
                                <p class="add-button" id="add-administrator">追加</p>
                            </label>
                            <ul class="array" id="administrators">
                            </ul>
                        </div>

                        <div class="field">
                            <p for="language">言語</p>
                            <div class="dropdown" id="language" style="max-width: 300px;">
                                <p>言語を選択</p>
                                <div>
                                    <!-- <input type="search" placeholder="Search"> -->
                                    <option value="ja_JP">日本語</option>
                                    <option value="en_US">English</option>
                                </div>
                            </div>
                        </div>

                        <div class="field">
                            <p for="guildId" class="required inline">サーバー
                            <div class="info">
                                <p>i</p>
                                <div class="description" hidden>
                                    <p>管理できるサーバーのみ表示されます。</p>
                                    <p>表示されない場合は、<a
                                            href="https://discord.com/oauth2/authorize?client_id=957677766340382781&permissions=1126040433191009&integration_type=0&scope=bot+applications.commands"
                                            target="_blank">ボット</a>を招待してください。</p>
                                </div>
                            </div>
                            </p>
                            <div class="dropdown" id="guildId" style="max-width: 300px;">
                                <p>サーバーを選択</p>
                                <div>
                                    <input type="search" placeholder="Search">
                                </div>
                            </div>
                        </div>


                        <div class="field">
                            <label for="serverName">サーバー名</label>
                            <input type="text" id="serverName" name="serverName" required>
                        </div>

                        <div class="field">
                            <p for="compatible">アンチチート</p>
                            <div class="dropdown" id="compatible" style="max-width: 300px;">
                                <p>アンチチートを選択</p>
                                <div>
                                    <option value="null">なし</option>
                                    <option value="TN-AntiCheat">TN-AntiCheat</option>
                                    <option value="Unknown Anti-Cheat">Unknown Anti-Cheat</option>
                                </div>
                            </div>
                        </div>

                        <div class="field">
                            <label for="setMaxPlayers">最大プレイヤー数
                                <div class="info">
                                    <p>i</p>
                                    <div class="description" hidden>
                                        <p><code>5</code> -> ワールドに入れる人数を5に固定します。</p>
                                        <p><code>+5</code> -> ワールドに入れる人数を今いる人数より5人多く設定します。</p>
                                    </div>
                                </div>
                            </label>
                            <input type="text" id="setMaxPlayers" name="setMaxPlayers" required>
                        </div>

                        <!-- <div class="field">
                            <label for="discordInvite">Discordの招待</label>
                            <input type="text" id="discordInvite" name="discordInvite">
                        </div> -->

                        <div class="field array-field">
                            <label for="blockedIps">ブロック済みIP
                                <p class="add-button" id="add-blockedIp">追加</p>
                            </label>
                            <ul class="array" id="blockedIps">
                            </ul>
                        </div>
                    </div>

                    <div id="globalBan" class="box">
                        <h2>Global Ban 設定</h2>
                        <div>
                            <label for="enabled">有効</label>
                            <label class="switch">
                                <input type="checkbox" id="enabled" name="enabled" required>
                                <span class="slider round"></span>
                            </label>
                        </div>

                        <div class="field">
                            <p>処罰アクション</p>
                            <!-- <select id="punishment" name="punishment" required>
                                <option value="warn">警告</option>
                                <option value="kick">追放</option>
                            </select> -->
                            <div class="dropdown" id="punishment" style="max-width: 300px;">
                                <p>処罰アクションを選択</p>
                                <div>
                                    <option value="warn">警告</option>
                                    <option value="kick">追放</option>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="globalChat" class="box">
                        <h2>Global Chat 設定</h2>
                        <div>
                            <label for="enabled">有効</label>
                            <label class="switch">
                                <input type="checkbox" id="enabled" name="enabled" required>
                                <span class="slider round"></span>
                            </label>
                        </div>

                        <div class="field">
                            <label for="room">ルーム名</label>
                            <input type="text" id="room" name="room" minlength="3">
                        </div>
                    </div>

                    <div id="message-box" class="box">
                        <h2>メッセージ設定</h2>
                        <div>
                            <label for="sendMessageDelete">Send Message Delete</label>
                            <label class="switch">
                                <input type="checkbox" id="sendMessageDelete" name="sendMessageDelete">
                                <span class="slider round"></span>
                            </label>
                        </div>

                        <div>
                            <label for="sendSay">Sayを送信</label>
                            <label class="switch">
                                <input type="checkbox" id="sendSay" name="sendSay">
                                <span class="slider round"></span>
                            </label>
                        </div>

                        <div>
                            <label for="sendMe">Meを送信</label>
                            <label class="switch">
                                <input type="checkbox" id="sendMe" name="sendMe">
                                <span class="slider round"></span>
                            </label>
                        </div>

                        <div class="field">
                            <label for="maxCharacters">最大文字数</label>
                            <input type="number" id="maxCharacters" name="maxCharacters" required>
                        </div>

                    </div>

                    <div id="console-box" class="box">
                        <h2>コンソール設定</h2>
                        <div>
                            <label for="console">コンソール</label>
                            <label class="switch">
                                <input type="checkbox" id="console" name="console">
                                <span class="slider round"></span>
                            </label>
                        </div>

                        <div>
                            <label for="killAtEProtection">Kill @e 保護</label>
                            <label class="switch">
                                <input type="checkbox" id="killAtEProtection" name="killAtEProtection">
                                <span class="slider round"></span>
                            </label>
                        </div>

                    </div>

                    <!-- クリック不可 -->
                    <div id="channels" class="box" style="position: relative;">
                        <div class="ban">

                            <h2>チャンネル設定</h2>
                            <div class="field custom-select">
                                <p for="main" class="required">メインチャンネル</p>
                                <!-- <input type="text" id="main" name="main" required> -->
                                <!-- <select name="main" id="main" class="channelSelector"></select> -->
                                <div class="dropdown" id="main" style="max-width: 300px;">
                                    <p>チャンネルを選択</p>
                                    <div>
                                        <input type="search" placeholder="Search">
                                    </div>
                                </div>
                            </div>

                            <div class="field">
                                <p for="status" class="required">ステータスチャンネル</p>
                                <!-- <input type="text" id="status" name="status" required> -->
                                <div class="dropdown" id="status" style="max-width: 300px;">
                                    <p>チャンネルを選択</p>
                                    <div>
                                        <input type="search" placeholder="Search">
                                    </div>
                                </div>
                            </div>

                            <div class="field">
                                <p for="console" class="required">コンソールチャンネル</p>
                                <!-- <input type="text" id="console" name="console"> -->
                                <div class="dropdown" id="console" style="max-width: 300px;">
                                    <p>チャンネルを選択</p>
                                    <div>
                                        <input type="search" placeholder="Search">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="cover">
                            <p>サーバーを選択して表示</p>
                        </div>
                    </div>

                    <div id="emojis" class="box">
                        <h2>絵文字設定</h2>
                        <div class="field">
                            <label for="join">Join絵文字</label>
                            <input type="text" id="join" name="join">
                        </div>

                        <div class="field">
                            <label for="leave">Leave絵文字</label>
                            <input type="text" id="leave" name="leave">
                        </div>

                        <div class="field">
                            <label for="death">Death絵文字</label>
                            <input type="text" id="death" name="death">
                        </div>

                    </div>

                    <div id="sync-box" class="box">
                        <h2>同期設定</h2>
                        <div class="field array-field">
                            <label for="roleTag">ロールタグ
                                <p class="add-button" id="add-roleTag">追加</p>
                            </label>
                            <div class="dummy"></div>
                            <ul class="array" id="roleTag"></ul>
                        </div>
                    </div>

                    <!-- <div id="other-box" class="box">
                        <h3>その他</h3>
                        <div>
                            <label for="unLinkCommand">unlinkコマンド</label>
                            <label class="switch">
                                <input type="checkbox" id="unLinkCommand" name="unLinkCommand">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div> -->

                    <div id="advanced-box" class="box">
                        <h2>高度な設定</h2>
                        <div id="playerNameRegex">
                            <h4>改変された名前</h4>
                            <div>
                                <label for="enabled">有効</label>
                                <label class="switch">
                                    <input type="checkbox" id="enabled" name="enabled" required>
                                    <span class="slider round"></span>
                                </label>
                            </div>

                            <div class="field">
                                <label for="regex">正規表現</label>
                                <input type="text" id="regex" name="regex" placeholder="§.\[.+\]§. §.{name}§.">
                            </div>
                        </div>
                        <div id="chatRegex">
                            <h4>改変されたチャット</h4>
                            <div>
                                <label for="enabled">有効</label>
                                <label class="switch">
                                    <input type="checkbox" id="enabled" name="enabled" required>
                                    <span class="slider round"></span>
                                </label>
                            </div>

                            <div class="field">
                                <label for="regex">正規表現</label>
                                <input type="text" id="regex" name="regex" placeholder="{name} §7>>§r §a{message}">
                            </div>
                        </div>
                        <div>
                            <h4>ベータモジュール</h4>
                            <div class="field array-field">
                                <label for="betaModules">モジュール名
                                    <p class="add-button" id="add-betaModule">追加</p>
                                </label>
                                <ul class="array" id="betaModules"></ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="buttons">
                    <button type="button" id="cancel">キャンセル</button>
                    <button type="submit" id="save">保存</button>
                </div>

            </form>
        </div>

        <div id="reissuedDisplay" class="display">
            <h2>トークンを再発行しました</h2>
            <p>再発行したトークンはカセットオーナーのDMに送信されます</p>
            <button id="closeReissuedDisplay">閉じる</button>
        </div>
        <div id="sentDisplay" class="display">
            <h2>保存しました</h2>
            <button id="closeSentDisplay">閉じる</button>
        </div>
        <div id="howToUseDisplay" class="display">
            <h2>使い方</h2>
            <p>トークンを再発行するには「トークンを再発行」をクリックしてください</p>
            <p>サーバーの設定を変更するには各項目を編集して「保存」をクリックしてください</p>
            <hr>
            <div style="text-align: left;">
                <p>1. カセットIDを含むタグを自己に追加してください</p>
                <pre><code id="casette-id" class="language-bash">/tag @s add "uws:casette-{CASETTE_ID}"</code></pre>
                <p>2. トークンを含むタグを自己に追加してください</p>
                <p>トークンは「トークンを再発行」をクリックしてDMに送信されたトークンを追加してください</p>
                <p>3. サーバーに接続してください</p>
                <pre><code>/connect uws.un-known.xyz:22000</code></pre>
            </div>
            <button id="closeHowToUse">閉じる</button>
        </div>
    </main>

    <footer></footer>
    <script type="module" src="/scripts/def.js"></script>
    <script type="module" src="/scripts/projects/Unknown-WebSocket/dashboard/manage.js"></script>
</body>

</html>
<!-- END: interface-html -->